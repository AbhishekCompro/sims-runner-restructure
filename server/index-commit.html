<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>QA Admin - server</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.5 -->
    <link rel="stylesheet" href="./dependencies/css/bootstrap.min.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <!-- Ionicons -->
    <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <!-- Theme style -->
    <link rel="stylesheet" href="./dependencies/css/AdminLTE.min.css">
    <link rel="stylesheet" href="./dependencies/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="./dependencies/style.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

      <style>
          .sk-cube-grid {
              width: 40px;
              height: 40px;
              margin: auto;
          }

          .sk-cube-grid .sk-cube {
              width: 33%;
              height: 33%;
              background-color: #333;
              float: left;
              -webkit-animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;
              animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;
          }
          .sk-cube-grid .sk-cube1 {
              -webkit-animation-delay: 0.2s;
              animation-delay: 0.2s; }
          .sk-cube-grid .sk-cube2 {
              -webkit-animation-delay: 0.3s;
              animation-delay: 0.3s; }
          .sk-cube-grid .sk-cube3 {
              -webkit-animation-delay: 0.4s;
              animation-delay: 0.4s; }
          .sk-cube-grid .sk-cube4 {
              -webkit-animation-delay: 0.1s;
              animation-delay: 0.1s; }
          .sk-cube-grid .sk-cube5 {
              -webkit-animation-delay: 0.2s;
              animation-delay: 0.2s; }
          .sk-cube-grid .sk-cube6 {
              -webkit-animation-delay: 0.3s;
              animation-delay: 0.3s; }
          .sk-cube-grid .sk-cube7 {
              -webkit-animation-delay: 0s;
              animation-delay: 0s; }
          .sk-cube-grid .sk-cube8 {
              -webkit-animation-delay: 0.1s;
              animation-delay: 0.1s; }
          .sk-cube-grid .sk-cube9 {
              -webkit-animation-delay: 0.2s;
              animation-delay: 0.2s; }

          @-webkit-keyframes sk-cubeGridScaleDelay {
              0%, 70%, 100% {
                  -webkit-transform: scale3D(1, 1, 1);
                  transform: scale3D(1, 1, 1);
              } 35% {
                    -webkit-transform: scale3D(0, 0, 1);
                    transform: scale3D(0, 0, 1);
                }
          }

          @keyframes sk-cubeGridScaleDelay {
              0%, 70%, 100% {
                  -webkit-transform: scale3D(1, 1, 1);
                  transform: scale3D(1, 1, 1);
              } 35% {
                    -webkit-transform: scale3D(0, 0, 1);
                    transform: scale3D(0, 0, 1);
                }
          }

      </style>
  </head>
  <body class="skin-blue fixed" data-spy="scroll" data-target="#scrollspy">

    <div class="wrapper" id="introduction">

<!--      <header class="main-header">
        &lt;!&ndash; Logo &ndash;&gt;
        &lt;!&ndash; Logo &ndash;&gt;
        <a href="../index2.html" class="logo">
          &lt;!&ndash; mini logo for sidebar mini 50x50 pixels &ndash;&gt;
          <span class="logo-mini"><b>A</b>LT</span>
          &lt;!&ndash; logo for regular state and mobile devices &ndash;&gt;
          <span class="logo-lg"><b>Admin</b>LTE</span>
        </a>
        &lt;!&ndash; Header Navbar: style can be found in header.less &ndash;&gt;
        <nav class="navbar navbar-static-top" role="navigation">
          &lt;!&ndash; Sidebar toggle button&ndash;&gt;
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
          </a>
          &lt;!&ndash; Navbar Right Menu &ndash;&gt;
          <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">
              <li><a href="http://almsaeedstudio.com">Almsaeed Studio</a></li>
              <li><a href="http://almsaeedstudio.com/premium">Premium Templates</a></li>
            </ul>
          </div>
        </nav>
      </header>-->
      <!-- Left side column. contains the logo and sidebar -->
      <aside class="main-sidebar">
        <!-- sidebar: style can be found in sidebar.less -->
        <div class="sidebar" id="scrollspy">

          <!-- sidebar menu: : style can be found in sidebar.less -->
          <ul class="nav sidebar-menu">
            <li class="header">CONTENTS</li>
            <li class="active"><a href="#introduction"><i class="fa fa-circle-o"></i> Run</a></li>
            <li><a href="#download"><i class="fa fa-circle-o"></i> Download</a></li>
              <!--<li><a href="#advice"><i class="fa fa-circle-o"></i> Run Config</a></li>-->
              <li><a href="#advice2"><i class="fa fa-circle-o"></i> Svn Config</a></li>
          </ul>
        </div>
        <!-- /.sidebar -->
      </aside>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div class="content-header" id="header-items">
<!--          <h1>
            AdminLTE Documentation
            <small>Current version 2.3.0</small>
          </h1>-->
          <a class="btn btn-app" id="launchTest">
            <i class="fa fa-play"></i> Launch Test
          </a>
          <a class="btn btn-app">
            <i class="fa fa-pause" id="killTest"></i> Stop
          </a>
          <ol class="breadcrumb">
            <li><a href="#"><i class="fa fa-dashboard"></i> Server</a></li>
            <li class="active">Run</li>
          </ol>
        </div>

        <!-- Main content -->
        <div class="content body">

<!-- ============================================================= -->

<section id="">
  <p class="lead" id="javaFileName">
    <div class="sk-cube-grid loader-div" style="margin-left: 10px">
        <div class="sk-cube sk-cube1"></div>
        <div class="sk-cube sk-cube2"></div>
        <div class="sk-cube sk-cube3"></div>
        <div class="sk-cube sk-cube4"></div>
        <div class="sk-cube sk-cube5"></div>
        <div class="sk-cube sk-cube6"></div>
        <div class="sk-cube sk-cube7"></div>
        <div class="sk-cube sk-cube8"></div>
        <div class="sk-cube sk-cube9"></div>
    </div>
  </p>


  <pre id="scrollArea" style="background-color: #353535; color: white; height: 400px" class="hierarchy bring-up"><code class="language-bash" data-lang="bash" id="run-logs">Run Logs


  </code></pre>

  <div class="row" id="download">
    <!--<div class="col-sm-6">--><div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">XML</h3>
          <span class="label label-primary pull-right"><i class="fa fa-html5"></i></span>
          <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
        </div><!-- /.box-header -->
        <div class="box-body">
            <pre class="hierarchy bring-up"><code id="xmlData" class="language-bash" data-lang="bash">

            </code></pre>
          <a href="#" id="downloadXML" class="btn btn-primary"><i class="fa fa-download"></i> Download</a>
        </div><!-- /.box-body -->
      </div><!-- /.box -->
    <!--</div>&lt;!&ndash; /.col &ndash;&gt;-->
    <!--<div class="col-sm-6">-->
      <div class="box box-danger">
        <div class="box-header with-border">
          <h3 class="box-title">Source Code</h3>
          <span class="label label-danger pull-right"><i class="fa fa-database"></i></span>
          <button class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
        </div><!-- /.box-header -->
        <div class="box-body">
            <pre class="hierarchy bring-up"><code id="javaData" class="language-bash" data-lang="bash">

            </code></pre>
          <a href="#" id="downloadJava" class="btn btn-danger"><i class="fa fa-download"></i> Download</a>
        </div><!-- /.box-body -->
      </div><!-- /.box -->
    <!--</div>&lt;!&ndash; /.col &ndash;&gt;-->
  </div><!-- /.row -->

</section>

<!--<section id="advice">
  <h2 class="page-header"><a href="#advice">Run Configurations</a></h2>
  <div class="box-body">
    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label>Minimal</label>
          <select class="form-control select2" style="width: 100%;">
            <option selected="selected">Alabama</option>
            <option>Alaska</option>
            <option>California</option>
            <option>Delaware</option>
            <option>Tennessee</option>
            <option>Texas</option>
            <option>Washington</option>
          </select>
        </div>&lt;!&ndash; /.form-group &ndash;&gt;
        <div class="form-group">
          <label>Disabled</label>
          <select class="form-control select2" disabled="disabled" style="width: 100%;">
            <option selected="selected">Alabama</option>
            <option>Alaska</option>
            <option>California</option>
            <option>Delaware</option>
            <option>Tennessee</option>
            <option>Texas</option>
            <option>Washington</option>
          </select>
        </div>&lt;!&ndash; /.form-group &ndash;&gt;
      </div>&lt;!&ndash; /.col &ndash;&gt;
      <div class="col-md-6">
        <div class="form-group">
          <label>Multiple</label>
          <select class="form-control select2" multiple="multiple" data-placeholder="Select a State" style="width: 100%;">
            <option>Alabama</option>
            <option>Alaska</option>
            <option>California</option>
            <option>Delaware</option>
            <option>Tennessee</option>
            <option>Texas</option>
            <option>Washington</option>
          </select>
        </div>&lt;!&ndash; /.form-group &ndash;&gt;
        <div class="form-group">
          <label>Disabled Result</label>
          <select class="form-control select2" style="width: 100%;">
            <option selected="selected">Alabama</option>
            <option>Alaska</option>
            <option disabled="disabled">California (disabled)</option>
            <option>Delaware</option>
            <option>Tennessee</option>
            <option>Texas</option>
            <option>Washington</option>
          </select>
        </div>&lt;!&ndash; /.form-group &ndash;&gt;
      </div>&lt;!&ndash; /.col &ndash;&gt;
    </div>&lt;!&ndash; /.row &ndash;&gt;
  </div>&lt;!&ndash; /.box-body &ndash;&gt;
  <a class="btn btn-app">
    <i class="fa fa-edit"></i> Set Run Conf
  </a>
    <b>Note:</b> LESS files are better commented than the compiled CSS file.
  </p>
</section>-->

<section id="advice2">
                <h2 class="page-header"><a href="#advice">Commit to SVN</a></h2>
                <div class="box-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Minimal</label>
                                <select class="form-control select2" style="width: 100%;">
                                    <option selected="selected">Alabama</option>
                                    <option>Alaska</option>
                                    <option>California</option>
                                    <option>Delaware</option>
                                    <option>Tennessee</option>
                                    <option>Texas</option>
                                    <option>Washington</option>
                                </select>
                            </div><!-- /.form-group -->
                            <div class="form-group">
                                <label>Disabled</label>
                                <select class="form-control select2" disabled="disabled" style="width: 100%;">
                                    <option selected="selected">Alabama</option>
                                    <option>Alaska</option>
                                    <option>California</option>
                                    <option>Delaware</option>
                                    <option>Tennessee</option>
                                    <option>Texas</option>
                                    <option>Washington</option>
                                </select>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                        <div class="col-md-6">
                            <div class="form-group">
                                <label>Multiple</label>
                                <select class="form-control select2" multiple="multiple" data-placeholder="Select a State" style="width: 100%;">
                                    <option>Alabama</option>
                                    <option>Alaska</option>
                                    <option>California</option>
                                    <option>Delaware</option>
                                    <option>Tennessee</option>
                                    <option>Texas</option>
                                    <option>Washington</option>
                                </select>
                            </div><!-- /.form-group -->
                            <div class="form-group">
                                <label>Disabled Result</label>
                                <select class="form-control select2" style="width: 100%;">
                                    <option selected="selected">Alabama</option>
                                    <option>Alaska</option>
                                    <option disabled="disabled">California (disabled)</option>
                                    <option>Delaware</option>
                                    <option>Tennessee</option>
                                    <option>Texas</option>
                                    <option>Washington</option>
                                </select>
                            </div><!-- /.form-group -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->
                </div><!-- /.box-body -->
                <a class="btn btn-app">
                    <span class="badge bg-teal">**</span>
                    <i class="fa fa-save"></i> Commit to SVN
                </a>
                <b>Note:</b> LESS files are better commented than the compiled CSS file.
                </p>
            </section>

        </div><!-- /.content -->
      </div><!-- /.content-wrapper -->

      <footer class="main-footer">
        <div class="pull-right hidden-xs">
          <b>Version</b> 1.1
        </div>
        <strong>Copyright &copy; 2016 <a href="#"></a>.</strong> All rights reserved.
      </footer>

      <!-- Control Sidebar -->
      <aside class="control-sidebar control-sidebar-dark">
        <!-- Create the tabs -->
        <div class="pad">
          This is an example of the control sidebar.
        </div>
      </aside><!-- /.control-sidebar -->
      <!-- Add the sidebar's background. This div must be placed
           immediately after the control sidebar -->
      <div class="control-sidebar-bg"></div>

    </div><!-- ./wrapper -->

    <!-- jQuery 2.1.4 -->
    <script src="./dependencies/jQuery/jQuery-2.1.4.min.js"></script>
    <!-- Bootstrap 3.3.5 -->
    <script src="./dependencies/bootstrap/js/bootstrap.min.js"></script>
    <!-- FastClick -->
    <script src="./dependencies/fastclick/fastclick.min.js"></script>
    <!-- AdminLTE App -->
    <script src="./dependencies/dist/js/app.min.js"></script>
    <!-- SlimScroll 1.3.0 -->
    <script src="./dependencies/slimScroll/jquery.slimscroll.min.js"></script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script src="./dependencies/docs.js"></script>
    <script src="./dependencies/updateData.js"></script>
    <script src="./dependencies/writeFiles.js"></script>

    <script src="https://cdn.socket.io/socket.io-1.4.5.js"></script>
    <script src="./dependencies/download2.js"></script>
    <script>

        var _xmlDownload = '';
        var _javaDownload = '';

        var _javaFilename = '';
        var _xmlFilename = '';
/*        var ab2str = function ab2str(buf) {
            return String.fromCharCode.apply(null, new Uint16Array(buf));
        };*/
        var socket = io.connect('http://localhost');
        socket.on('news', function (data) {
            console.log(data);
            socket.emit('my other event', { my: 'data' });
        });

        socket.on('stream', function (data) {
//            var data = ab2str(data);

//            var buff = String.fromCharCode.apply(null, new Uint16Array(data.n));
//            console.log('buff' + buff);
            var oldVal = document.getElementById('run-logs').innerHTML;
            document.getElementById('run-logs').innerHTML = oldVal + data.n;

            var textarea = document.getElementById('scrollArea');
            textarea.scrollTop = textarea.scrollHeight;

            socket.emit( 'message', {received: 'received'} );
        });

        //once a second

setTimeout(function(){

    $.get('/renderContentDist', function(data) {
        console.log('renderContentDist')

        console.log(data);

        $( "#xmlData").text(data.xmlDist);
        $( "#javaData").text(data.javaDist);
        $( "#javaFileName").text(data.javaDistFilename);
        _xmlDownload = data.xmlDist;
        _javaDownload = data.javaDist;
        _javaFilename = data.javaDistFilename;
        _xmlFilename = data.xmlDistFilename;

        $.get('/generateTestFilesDist', function(data) {
            console.log('generateTestFilesDist')
            console.log(data);
            setTimeout(function(){
                $( "#header-items" ).show();
                $( ".loader-div").remove();
            }, 2000);
        });

    });

}, 5000);


$( "#downloadXML" ).on( "click", function() {

    download(new Blob([_xmlDownload]), _xmlFilename, "text/plain");
});

$( "#downloadJava" ).on( "click", function() {

    download(new Blob([_javaDownload]), _javaFilename, "text/plain");
});
    </script>
    <script>
/*        var sw='run';
        var socket = io.connect('http://localhost');

        socket.on('stream', function (data) {
            document.getElementById('run-logs').innerHTML=data.n;
            socket.emit( 'message', {received: 'received'} );
        });*/

/*        function stop_timer() {
            if(sw=='run') {
                socket.emit( 'action', {todo: 'stop'} );
                sw='stop';
            } else {
                socket.emit( 'action', {todo: 'run'} );
            }
        }*/
    </script>
  </body>
</html>
